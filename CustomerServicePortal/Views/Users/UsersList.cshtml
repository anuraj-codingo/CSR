

<style>

    .user-list tbody td > img {
        position: relative;
        max-width: 50px;
        float: left;
        margin-right: 15px;
    }

    .user-list tbody td .user-link {
        display: block;
        font-size: 1.25em;
        padding-top: 3px;
        /*margin-left: 60px;*/
    }

    .user-list tbody td .user-subhead {
        font-size: 0.875em;
        font-style: italic;
    }

    /* TABLES */
    .table {
        border-collapse: separate;
    }

    .table-hover > tbody > tr:hover > td,
    .table-hover > tbody > tr:hover > th {
        background-color: #eee;
    }

    .table thead > tr > th {
        border-bottom: 1px solid #C2C2C2;
        padding-bottom: 0;
    }

    .table tbody > tr > td {
        font-size: 12px;
        vertical-align: middle;
        padding: 12px 8px;
    }

        .table tbody > tr > td:first-child,
        .table thead > tr > th:first-child {
            padding-left: 20px;
        }

    .table thead > tr > th span {
        border-bottom: 2px solid #C2C2C2;
        display: inline-block;
        padding: 0 5px;
        padding-bottom: 5px;
        font-weight: normal;
    }

    .table thead > tr > th > a span {
        color: #344644;
    }

        .table thead > tr > th > a span:after {
            content: "\f0dc";
            font-family: FontAwesome;
            font-style: normal;
            font-weight: normal;
            text-decoration: inherit;
            margin-left: 5px;
            font-size: 0.75em;
        }

    .table thead > tr > th > a.asc span:after {
        content: "\f0dd";
    }

    .table thead > tr > th > a.desc span:after {
        content: "\f0de";
    }

    .table thead > tr > th > a:hover span {
        text-decoration: none;
        color: #2bb6a3;
        border-color: #2bb6a3;
    }

    .table.table-hover tbody > tr > td {
        -webkit-transition: background-color 0.15s ease-in-out 0s;
        transition: background-color 0.15s ease-in-out 0s;
    }

    .table tbody tr td .call-type {
        display: block;
        font-size: 0.75em;
        text-align: center;
    }

    .table tbody tr td .first-line {
        line-height: 1.5;
        font-weight: 400;
        font-size: 1.125em;
    }

        .table tbody tr td .first-line span {
            font-size: 0.875em;
            color: #969696;
            font-weight: 300;
        }

    .table tbody tr td .second-line {
        font-size: 0.875em;
        line-height: 1.2;
    }

    .table a.table-link {
        margin: 0 5px;
        font-size: 1.125em;
    }

        .table a.table-link:hover {
            text-decoration: none;
            color: #2aa493;
        }

        .table a.table-link.danger {
            color: #fe635f;
        }

            .table a.table-link.danger:hover {
                color: #dd504c;
            }

    .table-products tbody > tr > td {
        background: none;
        border: none;
        border-bottom: 1px solid #ebebeb;
        -webkit-transition: background-color 0.15s ease-in-out 0s;
        transition: background-color 0.15s ease-in-out 0s;
        position: relative;
    }

    .table-products tbody > tr:hover > td {
        text-decoration: none;
        background-color: #f6f6f6;
    }

    .table-products .name {
        display: block;
        font-weight: 600;
        padding-bottom: 7px;
    }

    .table-products .price {
        display: block;
        text-decoration: none;
        width: 50%;
        float: left;
        font-size: 0.875em;
    }

        .table-products .price > i {
            color: #8dc859;
        }

    .table-products .warranty {
        display: block;
        text-decoration: none;
        width: 50%;
        float: left;
        font-size: 0.875em;
    }

        .table-products .warranty > i {
            color: #f1c40f;
        }

    .table tbody > tr.table-line-fb > td {
        background-color: #9daccb;
        color: #262525;
    }

    .table tbody > tr.table-line-twitter > td {
        background-color: #9fccff;
        color: #262525;
    }

    .table tbody > tr.table-line-plus > td {
        background-color: #eea59c;
        color: #262525;
    }

    .table-stats .status-social-icon {
        font-size: 1.9em;
        vertical-align: bottom;
    }

    .table-stats .table-line-fb .status-social-icon {
        color: #556484;
    }

    .table-stats .table-line-twitter .status-social-icon {
        color: #5885b8;
    }

    .table-stats .table-line-plus .status-social-icon {
        color: #a75d54;
    }

    /*.table thead > tr > th {
        border-bottom: 1px solid #fafafa;
        padding: 15px;
        background: #eceff1;
    }*/
    .gradiant-bg {
        background-image: linear-gradient(to left bottom, #f8f8f8, #ffffff, #f7f7f8, #f6f6f8, #f3f4f8);
    }

    .table-content-block {
        max-width: 90%;
        margin: 0% auto 0% auto;
    }

    .main-box {
        margin: 5% auto 5% auto;
        background: #ffffff;
        padding: 0px 20px;
        border-radius: 15px;
        box-shadow: 0px 0px 30px 0px rgb(129 136 181 / 23%);
        border: solid 1px #ececec;
    }

    .btnCustom {
        border-radius: 0px;
        font-size: 12px;
        background: #f5f5f6;
        color: #000000;
        border: solid 1px #cacbd8;
        font-weight: 500;
        outline: none !important;
        box-shadow: none !important;
        border-radius: 5px;
    }

        .btnCustom:hover,
        .btnCustom:active,
        .btnCustom:visited,
        .btnCustom:focus {
            background: #cacbd8 !important;
            border: solid 1px #cacbd8 !important;
        }

    .action-btn-block {
        padding: 20px 3px 10px 3px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
    }

    .table thead th {
        font-weight: 500;
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.2px;
        border: none !important;
        padding: 10px 5px !important;
    }

    .table th, .table td {
        padding: 5px !important;
    }

    .action-btn-block p {
        font-size: 18px;
        font-weight: 500;
        text-transform: capitalize;
        letter-spacing: 0.2px;
    }

    .swal2-cancel {
        margin-right: .5rem;
    }
</style>


<link href="~/Content/css/sumoselect.css" rel="stylesheet" />
<script src="~/Scripts/js/jquery.sumoselect.js"></script>

<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>


<div class="page-content-main gradiant-bg">

    <div class="page-content">

        <div class="content-block table-content-block row">


            <div class="col-lg-12">
                <div class="main-box clearfix">
                    <div class="note page-title">
                        @*href="@Url.Action("Index", "Users")"*@
                    </div>
                    <div class="pull-right action-btn-block">
                        <p class="m-0">User List</p><button class="btn btn-primary add-btn btnCustom" onclick="UserAddEdit(0)" role="button"><i class="fal fa fa-plus mr-2"></i> Add User</button>
                    </div>
                    <div class="tableWrap">
                        <div class="table-responsive">
                            <table class="table user-list w-100 table-striped">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Authentication Type</th>
                                        <th>Role</th>
                                        <th>User Name</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div Id="UserAddedit" class="modal fade" role="dialog">
    <div class="modal-dialog  modal-lg" role="document" style="margin-top: 144px;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">User Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>


            <div class="modal-body">



            </div>

        </div>
    </div>
</div>
<div class="loader-main">
    <div class="loader-sub">
        <div class="loader2"></div>
    </div>
</div>

<script>

    function SubmitAdduser() {
        if ($("#Adduser").valid()) {
            $('#UserAddedit').modal('hide');
            $('.loader-main').show();
        }




    }
    function OnSuccess(response) {
        $('.loader-main').hide();
        GetUsers(1);
    }
    function OnFailure(response) {
        GetUsers(1);
    }
    function DeleteUser(Id) {
        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success',
                cancelButton: 'btn btn-danger'
            },
            buttonsStyling: false
        })

        swalWithBootstrapButtons.fire({
            title: 'Are you sure?',
            //text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Delete',
            cancelButtonText: 'cancel',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {

                                  $.ajax({
                type: "GET",
                url:'@Url.Action("DeleteUser", "Users")',
                data: {  Id: Id},
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response) {

                      swalWithBootstrapButtons.fire(
                    'Deleted!',
                    'User has been deleted.',
                    'success'
                    )
                    GetUsers(1);

                },
                failure: function (response) {
                    alert(response.d);
                },
                error: function (response) {
                    alert(response.d);
                }
            });

            } else if (
                /* Read more about handling dismissals below */
                result.dismiss === Swal.DismissReason.cancel
            ) {
                swalWithBootstrapButtons.fire(
                    'Cancelled',
                    'Your imaginary file is safe :)',
                    'error'
                )
            }
        })
    }
        function UserAddEdit(Id) {
            $('.loader-main').show();
                  $.ajax({
                type: "GET",
                url:'@Url.Action("GetUserAddEditHtml", "Users")',
                data: {  Id: Id},
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response) {

                    $('.loader-main').hide();
                    $('.modal-body').html(response.viewContent);

                    $('#UserAddedit').modal('show');

                    //var form = $("#main_div").closest("form");
                    $('#Adduser').removeData('validator');
                    $('#Adduser').removeData('unobtrusiveValidation');
                    $.validator.unobtrusive.parse('#Adduser');

                },
                failure: function (response) {
                    alert(response.d);
                },
                error: function (response) {
                    alert(response.d);
                }
            });

    }
    $(function () {
        GetUsers(1);
    });

    function GetUsers(pageIndex) {
        $.ajax({
            type: "Get",
            url: '@Url.Action("GetUsersList", "Users")',
            data: { Page_No: pageIndex},

            //data: '{Page_No: ' + pageIndex + '}',
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {
                $(".user-list tbody").empty();
                $(".user-list tbody").append(response.viewContent);
            },
            failure: function (response) {
                alert(response.d);
            },
            error: function (response) {
                alert(response.d);
            }
        });
    }
</script>